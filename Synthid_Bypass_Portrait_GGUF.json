{
  "id": "342616a6-ef30-470e-bbf0-3626a3231cbe",
  "revision": 4,
  "last_node_id": 565,
  "last_link_id": 649,
  "nodes": [
    {
      "id": 10,
      "type": "CLIPTextEncode",
      "pos": [
        5198.773442313582,
        343.2390654606012
      ],
      "size": [
        298.1119791666667,
        103.33333333333334
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 508
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            6,
            309,
            310,
            547
          ]
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "blurry, ugly, bad quality,"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 8,
      "type": "VAEEncode",
      "pos": [
        5203.266226952336,
        486.59542802015886
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 639
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 15
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 61,
      "type": "VAEDecode",
      "pos": [
        5349.705402704978,
        485.050485819164
      ],
      "size": [
        140.1517620671466,
        57.93918852447871
      ],
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 49
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 304
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            566,
            594
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 12,
      "type": "VAELoader",
      "pos": [
        4907.615261298471,
        345.8282554941467
      ],
      "size": [
        267.70195622973404,
        68.12575424345957
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            15,
            304,
            539,
            542,
            550,
            619
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "VAELoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 401,
      "type": "ModelPatchLoader",
      "pos": [
        4909.476009225606,
        459.6428396974607
      ],
      "size": [
        265.8167535955954,
        68.33333333333334
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL_PATCH",
          "type": "MODEL_PATCH",
          "links": [
            538,
            618
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "ModelPatchLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Z-Image-Turbo-Fun-Controlnet-Union.safetensors"
      ]
    },
    {
      "id": 543,
      "type": "BboxDetectorCombined_v2",
      "pos": [
        5513.076899461588,
        586.353703939042
      ],
      "size": [
        393.0787109375,
        107.95830961748231
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 593
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 637
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            622
          ]
        }
      ],
      "title": "BboxDetectorCombined_v2 (mask for reference crop)",
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "61bd8397a18e7e7668e6a24e95168967768c2bed",
        "Node name for S&R": "BboxDetectorCombined_v2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.35,
        8
      ]
    },
    {
      "id": 534,
      "type": "InpaintCropImproved",
      "pos": [
        6576.548871944877,
        598.524012444838
      ],
      "size": [
        357.44140625,
        626
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 566
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 627
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": [
            575
          ]
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            569
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": [
            571
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintCropImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        false,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.2,
        true,
        512,
        512,
        "32"
      ]
    },
    {
      "id": 520,
      "type": "Get Image Size",
      "pos": [
        6954.641059022624,
        607.2288959896571
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 569
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            535
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            536
          ]
        }
      ],
      "properties": {
        "cnr_id": "masquerade-nodes-comfyui",
        "ver": "432cb4d146a391b387a0cd25ace824328b5b61cf",
        "Node name for S&R": "Get Image Size",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 545,
      "type": "PreviewImage",
      "pos": [
        6792.543397410278,
        1284.5870122279482
      ],
      "size": [
        140,
        246
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 649
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": []
    },
    {
      "id": 519,
      "type": "Canny",
      "pos": [
        6946.682090875699,
        1058.4358536694572
      ],
      "size": [
        210,
        96
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 589
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            540
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "Canny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.02,
        0.11
      ]
    },
    {
      "id": 523,
      "type": "VAEEncode",
      "pos": [
        7107.771554483548,
        608.6445738570517
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 648
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 542
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            543
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "VAEEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 524,
      "type": "SetLatentNoiseMask",
      "pos": [
        7103.613794710214,
        651.8924997807574
      ],
      "size": [
        240,
        90
      ],
      "flags": {
        "collapsed": true
      },
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 543
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 571
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            577
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "SetLatentNoiseMask",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 526,
      "type": "VAEDecode",
      "pos": [
        7557.123006642992,
        557.4881367811618
      ],
      "size": [
        140,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 615
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 550
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            552
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 527,
      "type": "InpaintStitchImproved",
      "pos": [
        7513.549017452182,
        620.6121766594791
      ],
      "size": [
        320,
        120
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "link": 575
        },
        {
          "name": "inpainted_image",
          "type": "IMAGE",
          "link": 552
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            642,
            643
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintStitchImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 62,
      "type": "SaveImage",
      "pos": [
        7855.927180417061,
        534.7162622707943
      ],
      "size": [
        509.9815091015183,
        524.843584156239
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 642
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "SaveImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Zimage_Img2Img/ComfyUI_"
      ]
    },
    {
      "id": 516,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        5512.6706250136085,
        735.8186548395203
      ],
      "size": [
        388.64021576028426,
        106.27537259990197
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            528,
            592,
            593
          ]
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-subpack",
        "ver": "1.3.5",
        "Node name for S&R": "UltralyticsDetectorProvider",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "bbox/yolov8n-face.pt"
      ]
    },
    {
      "id": 521,
      "type": "DyPE_FLUX",
      "pos": [
        6950.027587617518,
        698.9816641083825
      ],
      "size": [
        320,
        322
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 534
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 535
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 536
        }
      ],
      "outputs": [
        {
          "name": "Patched Model",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            537
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-dype",
        "ver": "2.3.0",
        "Node name for S&R": "DyPE_FLUX",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true
          },
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1024,
        1024,
        "zimage",
        "vision_yarn",
        false,
        true,
        1024,
        1,
        2,
        2,
        0.1,
        2
      ]
    },
    {
      "id": 58,
      "type": "KSampler",
      "pos": [
        5961.501745511865,
        60.646301558731295
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 603
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 308
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 310
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 329
        },
        {
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "link": 628
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            49
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1109963669891324,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 35,
      "type": "KSampler",
      "pos": [
        5737.913594478944,
        62.84739526680829
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 602
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 307
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 309
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 327
        },
        {
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "link": 629
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            329
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        208543382424106,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 556,
      "type": "ImpactSEGSToMaskBatch",
      "pos": [
        5929.757832177908,
        938.204590544311
      ],
      "size": [
        240,
        90
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 626
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            627
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "latest",
        "Node name for S&R": "ImpactSEGSToMaskBatch",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 542,
      "type": "BboxDetectorCombined_v2",
      "pos": [
        5512.967553855943,
        886.6383241471383
      ],
      "size": [
        394.2712327387002,
        135.45684991878852
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 592
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 594
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            625
          ]
        }
      ],
      "title": "BboxDetectorCombined_v2 (mask for output crop)",
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "61bd8397a18e7e7668e6a24e95168967768c2bed",
        "Node name for S&R": "BboxDetectorCombined_v2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.35,
        8
      ]
    },
    {
      "id": 551,
      "type": "Canny",
      "pos": [
        5525.452509609886,
        1074.1498168821981
      ],
      "size": [
        374.59907595485856,
        87.78369565437106
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 635
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            620
          ]
        }
      ],
      "title": "Canny (global structure)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "Canny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.02,
        0.11
      ]
    },
    {
      "id": 552,
      "type": "QwenImageDiffsynthControlnet",
      "pos": [
        5535.352234585502,
        1211.1922982412116
      ],
      "size": [
        365.249609375,
        138
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 617
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 618
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 619
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 620
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            601,
            602,
            603
          ]
        }
      ],
      "title": "QwenImageDiffsynthControlnet (global structure)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "QwenImageDiffsynthControlnet",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1.2
      ]
    },
    {
      "id": 557,
      "type": "Float",
      "pos": [
        6192.496097042656,
        481.9949593081912
      ],
      "size": [
        270,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "label": "denoise",
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            628,
            629,
            630
          ]
        }
      ],
      "title": "Denoise",
      "properties": {
        "cnr_id": "ComfyLiterals",
        "ver": "bdddb08ca82d90d75d97b1d437a652e0284a32ac",
        "Node name for S&R": "Float",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        ".2"
      ]
    },
    {
      "id": 555,
      "type": "MaskToSEGS",
      "pos": [
        5929.068431220154,
        1069.929469446645
      ],
      "size": [
        240,
        154
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 625
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            626
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "latest",
        "Node name for S&R": "MaskToSEGS",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false,
        1,
        false,
        10,
        true
      ]
    },
    {
      "id": 554,
      "type": "ImpactSEGSToMaskBatch",
      "pos": [
        5928.780546541282,
        805.7768078415608
      ],
      "size": [
        240,
        90
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 624
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            623
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "latest",
        "Node name for S&R": "ImpactSEGSToMaskBatch",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 553,
      "type": "MaskToSEGS",
      "pos": [
        5930.666193178859,
        606.8220955912949
      ],
      "size": [
        240,
        154
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 622
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            624
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "latest",
        "Node name for S&R": "MaskToSEGS",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false,
        1,
        false,
        10,
        true
      ]
    },
    {
      "id": 541,
      "type": "InpaintCropImproved",
      "pos": [
        6197.756623367624,
        600.5285944547393
      ],
      "size": [
        357.44140625,
        626
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 638
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 623
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": null
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            589,
            648,
            649
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "2.1.8",
        "Node name for S&R": "InpaintCropImproved",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        true,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.2,
        true,
        512,
        512,
        "32"
      ]
    },
    {
      "id": 522,
      "type": "QwenImageDiffsynthControlnet",
      "pos": [
        7168.944152367699,
        1059.4731434095518
      ],
      "size": [
        247.5689453125,
        138
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 537
        },
        {
          "name": "model_patch",
          "type": "MODEL_PATCH",
          "link": 538
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 539
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 540
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            545
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "QwenImageDiffsynthControlnet",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 525,
      "type": "KSampler",
      "pos": [
        7294.709406088594,
        527.0285888546201
      ],
      "size": [
        210,
        486
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 545
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 546
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 547
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 577
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            615
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        123456841,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.12
      ]
    },
    {
      "id": 9,
      "type": "CLIPTextEncode",
      "pos": [
        5195.491190845286,
        193.39070244302064
      ],
      "size": [
        304.1666666666667,
        103.33333333333334
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 507
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            5,
            307,
            308,
            546
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "high definition skin texture, detailed skin texture, visible pores"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 561,
      "type": "Note",
      "pos": [
        4653.68936243736,
        873.8690510487089
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Enable if image is > 4k resolution"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 560,
      "type": "ImageScaleToTotalPixels",
      "pos": [
        4602.117470482121,
        746.0886515228187
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 634
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            635,
            636,
            637,
            638,
            639
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.4.0",
        "Node name for S&R": "ImageScaleToTotalPixels",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "nearest-exact",
        2.5,
        1
      ]
    },
    {
      "id": 563,
      "type": "Image Comparer (rgthree)",
      "pos": [
        7861.70971968394,
        1105.9186607460776
      ],
      "size": [
        493.50848028476264,
        539.3779917262883
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "image_a",
          "type": "IMAGE",
          "link": 643
        },
        {
          "dir": 3,
          "name": "image_b",
          "type": "IMAGE",
          "link": 640
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "1.0.2512071717",
        "comparer_mode": "Slide",
        "aux_id": "rgthree/rgthree-comfy",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_eagpx_00009_.png&type=temp&subfolder=&rand=0.04589170868510817"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_eagpx_00010_.png&type=temp&subfolder=&rand=0.8467846896285937"
          }
        ]
      ]
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [
        4591.757588303168,
        177.41717042501963
      ],
      "size": [
        277.7890981069859,
        512.7596812014166
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            634,
            640
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "05.png",
        "image"
      ]
    },
    {
      "id": 214,
      "type": "CLIPLoader",
      "pos": [
        4905.474887928453,
        174.67189367022166
      ],
      "size": [
        270,
        125
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            507,
            508
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "CLIPLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.1"
        }
      },
      "widgets_values": [
        "qwen_3_4b.safetensors",
        "lumina2",
        "cpu"
      ]
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        5511.597944304306,
        64.29744899428628
      ],
      "size": [
        210,
        474
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 601
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 5
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 6
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 7
        },
        {
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "link": 630
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            327
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        119704256080773,
        "fixed",
        9,
        1,
        "euler",
        "simple",
        0.2
      ]
    },
    {
      "id": 6,
      "type": "ModelSamplingAuraFlow",
      "pos": [
        5208.880793538656,
        531.9436285163897
      ],
      "size": [
        268.64941961819386,
        68.03516298671511
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 647
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            506,
            534
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.77",
        "Node name for S&R": "ModelSamplingAuraFlow",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 512,
      "type": "DyPE_FLUX",
      "pos": [
        5197.0544556928335,
        642.9482173270674
      ],
      "size": [
        286.093062083728,
        322
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 506
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 524
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 525
        }
      ],
      "outputs": [
        {
          "name": "Patched Model",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            617
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-dype",
        "ver": "2.3.0",
        "Node name for S&R": "DyPE_FLUX",
        "ue_properties": {
          "input_ue_unconnectable": {},
          "version": "7.5.1",
          "widget_ue_connectable": {}
        }
      },
      "widgets_values": [
        3840,
        2160,
        "zimage",
        "vision_yarn",
        false,
        true,
        1024,
        1,
        2,
        2,
        0.1,
        2
      ]
    },
    {
      "id": 513,
      "type": "Get Image Size",
      "pos": [
        5209.788918782924,
        1008.9149168881561
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 636
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            524
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            525
          ]
        }
      ],
      "properties": {
        "cnr_id": "masquerade-nodes-comfyui",
        "ver": "432cb4d146a391b387a0cd25ace824328b5b61cf",
        "Node name for S&R": "Get Image Size",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": []
    },
    {
      "id": 559,
      "type": "Note",
      "pos": [
        6191.392671084029,
        190.86537880721838
      ],
      "size": [
        934.1547543709557,
        245.65688128051073
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ComfyUI/models/\n├── vae/\n│ └── ae.safetensors\n│ Download: https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/vae/ae.safetensors\n├── unet/   (GGUF models for ComfyUI-GGUF)\n│ └── z_image_turbo-Q3_K_M.gguf\n│ Download: https://huggingface.co/jayn7/Z-Image-Turbo-GGUF/resolve/main/z_image_turbo-Q3_K_M.gguf\n├── text_encoders/\n│ └── qwen_3_4b.safetensors\n│ Download: https://huggingface.co/Comfy-Org/z_image_turbo/resolve/main/split_files/text_encoders/qwen_3_4b.safetensors\n├── sams/\n│ └── sam_vit_b_01ec64.pth\n│ Download: https://dl.fbaipublicfiles.com/segment_anything/sam_vit_b_01ec64.pth\n├── model_patches/\n│ └── Z-Image-Turbo-Fun-Controlnet-Union.safetensors\n│ Download: https://huggingface.co/alibaba-pai/Z-Image-Turbo-Fun-Controlnet-Union/resolve/main/Z-Image-Turbo-Fun-Controlnet-Union.safetensors\n└── ultralytics/\n └── bbox/\n └── yolov8n-face.pt\n Download: https://huggingface.co/deepghs/yolo-face/resolve/739664f2d00e436a8882238f83175ab0f6497578/yolov8n-face/model.pt"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 564,
      "type": "UnetLoaderGGUF",
      "pos": [
        4908.806950893037,
        580.524711447581
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            647
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-GGUF",
        "ver": "795e45156ece99afbc3efef911e63fcb46e6a20d",
        "Node name for S&R": "UnetLoaderGGUF"
      },
      "widgets_values": [
        "z_image_turbo-Q3_K_M.gguf"
      ]
    }
  ],
  "links": [
    [
      5,
      9,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      6,
      10,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      7,
      8,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      15,
      12,
      0,
      8,
      1,
      "VAE"
    ],
    [
      49,
      58,
      0,
      61,
      0,
      "LATENT"
    ],
    [
      304,
      12,
      0,
      61,
      1,
      "VAE"
    ],
    [
      307,
      9,
      0,
      35,
      1,
      "CONDITIONING"
    ],
    [
      308,
      9,
      0,
      58,
      1,
      "CONDITIONING"
    ],
    [
      309,
      10,
      0,
      35,
      2,
      "CONDITIONING"
    ],
    [
      310,
      10,
      0,
      58,
      2,
      "CONDITIONING"
    ],
    [
      327,
      3,
      0,
      35,
      3,
      "LATENT"
    ],
    [
      329,
      35,
      0,
      58,
      3,
      "LATENT"
    ],
    [
      506,
      6,
      0,
      512,
      0,
      "MODEL"
    ],
    [
      507,
      214,
      0,
      9,
      0,
      "CLIP"
    ],
    [
      508,
      214,
      0,
      10,
      0,
      "CLIP"
    ],
    [
      524,
      513,
      0,
      512,
      1,
      "INT"
    ],
    [
      525,
      513,
      1,
      512,
      2,
      "INT"
    ],
    [
      528,
      516,
      0,
      517,
      0,
      "BBOX_DETECTOR"
    ],
    [
      534,
      6,
      0,
      521,
      0,
      "MODEL"
    ],
    [
      535,
      520,
      0,
      521,
      1,
      "INT"
    ],
    [
      536,
      520,
      1,
      521,
      2,
      "INT"
    ],
    [
      537,
      521,
      0,
      522,
      0,
      "MODEL"
    ],
    [
      538,
      401,
      0,
      522,
      1,
      "MODEL_PATCH"
    ],
    [
      539,
      12,
      0,
      522,
      2,
      "VAE"
    ],
    [
      540,
      519,
      0,
      522,
      3,
      "IMAGE"
    ],
    [
      542,
      12,
      0,
      523,
      1,
      "VAE"
    ],
    [
      543,
      523,
      0,
      524,
      0,
      "LATENT"
    ],
    [
      545,
      522,
      0,
      525,
      0,
      "MODEL"
    ],
    [
      546,
      9,
      0,
      525,
      1,
      "CONDITIONING"
    ],
    [
      547,
      10,
      0,
      525,
      2,
      "CONDITIONING"
    ],
    [
      550,
      12,
      0,
      526,
      1,
      "VAE"
    ],
    [
      552,
      526,
      0,
      527,
      1,
      "IMAGE"
    ],
    [
      566,
      61,
      0,
      534,
      0,
      "IMAGE"
    ],
    [
      569,
      534,
      1,
      520,
      0,
      "IMAGE"
    ],
    [
      571,
      534,
      2,
      524,
      1,
      "MASK"
    ],
    [
      575,
      534,
      0,
      527,
      0,
      "STITCHER"
    ],
    [
      577,
      524,
      0,
      525,
      3,
      "LATENT"
    ],
    [
      589,
      541,
      1,
      519,
      0,
      "IMAGE"
    ],
    [
      592,
      516,
      0,
      542,
      0,
      "BBOX_DETECTOR"
    ],
    [
      593,
      516,
      0,
      543,
      0,
      "BBOX_DETECTOR"
    ],
    [
      594,
      61,
      0,
      542,
      1,
      "IMAGE"
    ],
    [
      601,
      552,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      602,
      552,
      0,
      35,
      0,
      "MODEL"
    ],
    [
      603,
      552,
      0,
      58,
      0,
      "MODEL"
    ],
    [
      615,
      525,
      0,
      526,
      0,
      "LATENT"
    ],
    [
      617,
      512,
      0,
      552,
      0,
      "MODEL"
    ],
    [
      618,
      401,
      0,
      552,
      1,
      "MODEL_PATCH"
    ],
    [
      619,
      12,
      0,
      552,
      2,
      "VAE"
    ],
    [
      620,
      551,
      0,
      552,
      3,
      "IMAGE"
    ],
    [
      622,
      543,
      0,
      553,
      0,
      "MASK"
    ],
    [
      624,
      553,
      0,
      554,
      0,
      "SEGS"
    ],
    [
      623,
      554,
      0,
      541,
      1,
      "MASK"
    ],
    [
      625,
      542,
      0,
      555,
      0,
      "MASK"
    ],
    [
      626,
      555,
      0,
      556,
      0,
      "SEGS"
    ],
    [
      627,
      556,
      0,
      534,
      1,
      "MASK"
    ],
    [
      628,
      557,
      0,
      58,
      4,
      "FLOAT"
    ],
    [
      629,
      557,
      0,
      35,
      4,
      "FLOAT"
    ],
    [
      630,
      557,
      0,
      3,
      4,
      "FLOAT"
    ],
    [
      634,
      11,
      0,
      560,
      0,
      "IMAGE"
    ],
    [
      635,
      560,
      0,
      551,
      0,
      "IMAGE"
    ],
    [
      636,
      560,
      0,
      513,
      0,
      "IMAGE"
    ],
    [
      637,
      560,
      0,
      543,
      1,
      "IMAGE"
    ],
    [
      638,
      560,
      0,
      541,
      0,
      "IMAGE"
    ],
    [
      639,
      560,
      0,
      8,
      0,
      "IMAGE"
    ],
    [
      640,
      11,
      0,
      563,
      1,
      "IMAGE"
    ],
    [
      642,
      527,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      643,
      527,
      0,
      563,
      0,
      "IMAGE"
    ],
    [
      647,
      564,
      0,
      6,
      0,
      "MODEL"
    ],
    [
      648,
      541,
      1,
      523,
      0,
      "IMAGE"
    ],
    [
      649,
      541,
      1,
      545,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ue_links": [],
    "links_added_by_ue": [],
    "ds": {
      "scale": 0.9482356114364658,
      "offset": [
        -4442.231354573444,
        171.25990510628498
      ]
    },
    "frontendVersion": "1.35.9",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "workflowRendererVersion": "LG"
  },
  "version": 0.4
}